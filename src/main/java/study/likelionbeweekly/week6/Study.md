## SQL Mapper ì™€ ORM

### SQL Mapper ì˜ ìž¥ë‹¨ì  ì•Œì•„ë³´ê¸°

- ðŸ“• [ê¸°ë³¸] SQL Mapper ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°

ì§ì ‘ ìž‘ì„±í•œ SQL ë¬¸ì˜ ê²°ê³¼ì™€ ê°ì²´ í•„ë“œë¥¼ ë§¤í•‘í•˜ì—¬ ë°ì´í„°ë¥¼ ê°ì²´í™” í•´ì£¼ëŠ” í”„ë ˆìž„ ì›Œí¬
DBMS ì— ë”°ë¼ ë¬¸ë²•ì´ ë‹¬ë¼ì„œ ì¢…ì†ì„±ì˜ ë¬¸ì œê°€ ìžˆìŒ, ì´ëŠ” ë³€í™”ì— ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ê¸° ì–´ë ¤ì›€
ì¿¼ë¦¬ë¬¸ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë¶„ë¦¬ë˜ì–´ ìžˆê¸°ì— ìœ ì§€ë³´ìˆ˜ê°€ íŽ¸í•¨

### ðŸ“• [ê¸°ë³¸] JDBC ì˜ ìž¥ë‹¨ì  ì•Œì•„ë³´ê¸°

ðŸ’¡ SQL ìž‘ì„± ë°©ì‹ì˜ ì´ì ê³¼ ë¬¸ì œì ì„ ì•Œì•„ë³´ì‹œë©´ ì¢‹ì•„ìš”
í”„ë¡œê·¸ëž¨ê³¼ ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•´ì„œ ì‚¬ìš©í•  ë•Œ ì“°ìž„

#### ìž¥ì 

SQL ì¿¼ë¦¬ë¥¼ ì§ì ‘ ìž‘ì„±í•´ì„œ ì„¸ë°€í•œ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤.
ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§€ì›í•¨

#### ë‹¨ì 

SQL ì¿¼ë¦¬ì™€ ê²°ê³¼, ì˜ˆì™¸ ì²˜ë¦¬ë“±ì˜ ëª¨ë“  ë¡œì§ì„ ìž‘ì„±í•˜ë©´ ê´€ë¦¬ìš©ì´ì„±ê³¼ ê°œë°œì†ë„ì— ì•…ì˜í–¥
ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ì—ëŸ¬ë¥¼ ë°œê²¬í•  ìˆ˜ ì—†ìŒ

### ðŸ“• [ì‹¬í™”] Mybatis ì˜ ìž¥ë‹¨ì  ì•Œì•„ë³´ê¸°

JDBC ë¥¼ ë‹¨ìˆœí™” í•œ ê²ƒ
SQL ì„ xml íŒŒì¼ì— ì €ìž¥í•´ì„œ ì‚¬ìš©í•˜ë¯€ë¡œ ì½”ë“œì™€ SQL ë¶„ë¦¬í•¨

#### ìž¥ì 

ì½”ë“œì—ì„œ SQL ì„ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ë¨
ë³µìž¡í•œ ì¿¼ë¦¬ë¥¼ ì„¸ë°€í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìžˆìŒ

#### ë‹¨ì 

xml ë„ ê²°êµ­ ê´€ë¦¬ì˜ì—­
ì´ ê¸°ìˆ ì„ ìµížˆëŠ” ê²ƒì˜ ìƒëŒ€ì  ë¹„ìš©ì´ í¼
ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ìž¡ì„ ìˆ˜ ì—†ìŒ

## ORM ì˜ ìž¥ë‹¨ì  ì•Œì•„ë³´ê¸°

### ðŸ“• [ê¸°ë³¸] ORM ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°

ê°ì²´ì™€ DB í…Œì´ë¸”ì„ ë§¤í•‘í•˜ëŠ” ê¸°ìˆ 
CRUD ê´€ë ¨ ë©”ì†Œë“œë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ë°˜ë³µì ì¸ SQL ìž‘ì„±ì´ í•„ìš” ì—†ìŒ
DBMS ì¢…ì†ì ì´ì§€ ì•ŠìŒ
ë³µìž¡í•œ ë™ìž‘ì€ JPQL ì´ë‚˜ SQL Mapper ë¥¼ í™œìš©í•˜ë©´ ë¨

### ðŸ“• [ê¸°ë³¸] SQL Mapper ì™€ ORM ì˜ ì°¨ì´ì  ì•Œì•„ë³´ê¸°

SQL ì¿¼ë¦¬ì— ëŒ€í•œ ì œì–´ë¥¼ ì§ì ‘ ì •ì˜í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ìµœì í™”ê°€ ê°€ëŠ¥í•¨
íŠ¹ì • DBMS ê³ ìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ë•Œ ì¢‹ìŒ

ê°ì²´ ì§€í–¥ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì—, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë” ì§‘ì¤‘í•  ìˆ˜ ìžˆìŒ
ë°ì´í„°ë² ì´ìŠ¤ì™€ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œì´ ê°€ëŠ¥í•´ì§€ë©°, ê°ì²´ ì§€í–¥ íŠ¹ì„±ì¸ ì½”ë“œ ìž¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ë‹¤

ìžë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì •ì˜í•œ API
ORM ì„ ìœ„í•œ API í‘œì¤€ì´ë©°, ê°œë°œìžê°€ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ìž‘ìš©ì´ ì‰½ë„ë¡ í•¨
í´ëž˜ìŠ¤ë¡œì˜ êµ¬í˜„ì´ ì•„ë‹Œ ì¸í„°íŽ˜ì´ìŠ¤ë¡œì˜ ëª…ì„¸ì´ë©°, Hibernate ëŠ” JPA ë¥¼ êµ¬í˜„í•œ ì˜ˆì‹œìž„

## ì˜ì†í™”(Persistence)

### ðŸ“• [ê¸°ë³¸] íŠ¸ëžœìž­ì…˜ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°

ë°ì´í„°ë² ì´ìŠ¤ì˜ ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” í•˜ë‚˜ì˜ ìž‘ì—… ë‹¨ìœ„
ì—¬ëŸ¬ê°œì˜ ì—°ì‚°ì„ í¬í•¨í•  ìˆ˜ ìžˆìœ¼ë¯€ë¡œ ëª¨ë‘ ì„±ê³µí•˜ê±°ë‚˜, í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì·¨ì†Œ(ë¡¤ë°±) ë¨

### ðŸ“• [ê¸°ë³¸] ì˜ì†í™”ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ìž‘í•˜ëŠ” ë™ì•ˆ ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µì‹ í•˜ê³ , ê·¸ ê³¼ì •ì—ì„œ ë°ì´í„° ìœ ì§€ê°€ í•„ìš”í•œ ê²½ìš°ê°€ ìžˆë‹¤.
ë°ì´í„°ê°€ í”„ë¡œê·¸ëž¨ì´ ì¢…ë£Œë˜ì–´ë„ ì‚¬ë¼ì§€ì§€ ì•Šê³  ì €ìž¥ë˜ì–´ ìžˆëŠ” ê²ƒì„ ì˜ì†ì„±ì´ë¼ í•œë‹¤.
ê°ì²´ë¥¼ DB ë¡œ ì €ìž¥í•˜ê³ , DB ì˜ ì •ë³´ë¥¼ ê°ì²´ë¡œ ì‚¬ìš©í•˜ë„ë¡ í•´ì•¼í•œë‹¤.

### ì˜ì†ì„  ì»¨í…ìŠ¤íŠ¸

ì—”í‹°í‹°ë¥¼ ì˜êµ¬ ì €ìž¥í•˜ëŠ” í™˜ê²½
EntityManager ë¥¼ í†µí•´ì„œ ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•˜ë©° ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•¨
ì»¨í…ìŠ¤íŠ¸ëŠ” ì €ìž¥ë˜ë©´ ì˜ì† ìƒíƒœê°€ ë˜ë©° ì—”í‹°í‹°ì™€ ë™ì¼ì„±ì„ ë³´ìž¥í•˜ê³ , ìž¬ì‚¬ìš©, ë³€ê²½ ê°ì§€, ì§€ì—° ë¡œë”©ì˜ ìž‘ì—…ì„ ê°€ëŠ¥í•˜ê²Œ í•¨

ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ë¶€ì— ìžˆëŠ” ìºì‹œ
í•œ íŠ¸ëžœìž­ì…˜ ë²”ìœ„ ì•ˆì—ì„œë§Œ ì—”í‹°í‹°ë¥¼ ì €ìž¥í•˜ê³  ê´€ë¦¬í•¨
ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ ì¡°íšŒë‚˜ ì €ìž¥ ìž‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ, ë¨¼ì € í™•ì¸í•´ì„œ ì„±ëŠ¥ì„ í–¥ìƒ ì‹œí‚´

íŠ¸ëžœìž­ì…˜ì´ ì»¤ë°‹ë˜ëŠ” ì‹œì ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë³€ê²½ ê°ì§€ë¥¼ ìˆ˜í–‰í•´ì„œ ë³€ê²½ì ì„ ì°¾ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•¨
ì´í›„ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì»¤ë°‹ë˜ì–´ ë°ì´í„°ê°€ ì €ìž¥ë¨
ê³¼ì •ì—ì„œ ì‹¤íŒ¨í•˜ê±°ë‚˜ ë¡¤ë°± í˜¸ì¶œì´ ë˜ë©´, ë³€ê²½ ì‚¬í•­ì´ ì·¨ì†Œë¨

## Spring Data JPA

### ðŸ“• [ê¸°ë³¸] JPA ì™€ Spring Data JPA ì˜ ì°¨ì´ì  ì•Œì•„ë³´ê¸°

Spring Data JPA ëŠ” ê¸°ì¡´ Java ì—ì„œ ì‚¬ìš©í•˜ë˜ JPA ë¥¼ Spring í™˜ê²½ì—ì„œ ë³´ë‹¤ ë” íŽ¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìžˆê²Œ ë„ì™€ì£¼ëŠ” í”„ë ˆìž„ì›Œí¬

#### @Repository ì–´ë…¸í…Œì´ì…˜

- ì´ì „ì— @Bean ë˜ëŠ” @Component ë¡œ ê°ì²´ë¥¼ ë¹ˆ ì»¨í…Œì´ë„ˆì— ë“±ë¡í–ˆì—ˆë‹¤.
- ê·¸ëŸ°ë°, @Repository ëŠ” @Component ì–´ë…¸í…Œì´ì…˜ì„ ê°€ì§€ê³  ìžˆì§€ ì•Šë‹¤.
- ì´ëŠ” Spring Data JPA ì˜ ì–´ë…¸í…Œì´ì…˜ì´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì–´ë…¸í…Œì´ì…˜ê³¼ ë¶„ë¦¬ë˜ì–´ ìžˆê¸° ë•Œë¬¸ë„ ìžˆì§€ë§Œ
- ì •í™•í•œ ì´ìœ ëŠ” @EnableJpaRepositories ì–´ë…¸í…Œì´ì…˜ì—ì„œ @JpaRepositoriesRegistrar ë¥¼ Import í•˜ê³ 
- @JpaRepositoriesRegistrar ëŠ” ImportBeanDefinitionRegistrar ë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•œë‹¤.
- ì´ë•Œ êµ¬í˜„ë˜ëŠ” ë‚´ìš©ì—ì„œ JpaRepository ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê²Œ ëœë‹¤.

- ðŸ“• [ê¸°ë³¸] JPA ì• ë…¸í…Œì´ì…˜ ì•Œì•„ë³´ê¸°
    - ðŸ’¡`@Entity` ì• ë…¸í…Œì´ì…˜ ì•Œì•„ë³´ê¸°
    - jpa ì¸¡ë©´ì—ì„œì˜ í…Œì´ë¸”ê³¼ ë§¤í•‘í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
    - `@Table` ì–´ë…¸í…Œì´ì…˜ì€ DB ì™€ì˜ ë§¤í•‘ì„ ì„¤ì •í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
        - ðŸ“•[ì‹¬í™”] `@NoArgsConstructor` ê°€ ì™œ í•„ìš”í•œì§€ ì•Œì•„ë³´ê¸°
            - ì´ ì–´ë…¸í…Œì´ì…˜ì€ íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ìƒì„±ìžë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.
            - ì´ë ‡ê²Œ ë˜ë©´ í”„ë ˆìž„ì›Œí¬ê°€ ë¦¬í”Œë ‰ì…˜ì„ í†µí•´ ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìžˆê²Œ í•´ì¤€ë‹¤.
    - ðŸ’¡`@Id`, `@GeneratedValue` ì• ë…¸í…Œì´ì…˜ ì•Œì•„ë³´ê¸°
        - `@Id` ì–´ë…¸í…Œì´ì…˜
            - ì—”í‹°í‹° í´ëž˜ìŠ¤ì˜ ê¸°ë³¸ í‚¤ í•„ë“œì— ì ìš©í•¨
            - JPA ê¸°ë°˜ ì—”í‹°í‹°ëŠ” ë¬´ì¡°ê±´ PK í•„ë“œë¥¼ ê°€ì§ (MySQL ì—ì„œëŠ” PK ì—†ëŠ” í…Œì´ë¸”ì„ ìƒì„±í•  ìˆ˜ ìžˆìŒ)
        - `@GeneratedValue`
            - ê¸°ë³¸ í‚¤ ê°’ì„ ìžë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” ì „ëžµì„ ì„¤ì •í•¨
            - ê¸°ë³¸ì ìœ¼ë¡œ auto, identity, sequence, table ë“±ì´ ìžˆìŒ
    - ðŸ’¡`@Column` ì• ë…¸í…Œì´ì…˜ ì•Œì•„ë³´ê¸°
        - ì—”í‹°í‹° í´ëž˜ìŠ¤ì˜ í•„ë“œì™€ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì„ ë§¤í•‘í•¨
        - name, nullable, unique, length, columnDefinition ë“±ì˜ ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìžˆìŒ
    - ðŸ’¡`@ManyToOne`, `@OneToOne`ì• ë…¸í…Œì´ì…˜ ì•Œì•„ë³´ê¸°
        - ë‹¤ëŒ€ì¼, ì¼ëŒ€ì¼ ê´€ê³„ë¥¼ ì •ì˜í•¨
        - í•˜ë‚˜ ë˜ëŠ” ì—¬ëŸ¬ê°œì˜ ì—”í‹°í‹°ì™€ í•˜ë‚˜ì˜ ì—”í‹°í‹°ë¥¼ ë§¤í•‘í•¨
        - ë‹¤ëŒ€ë‹¤ ê´€ê³„ëŠ” ë‹¤ëŒ€ì¼ ê´€ê³„ë¥¼ 2ë²ˆ ì¨ì„œ êµ¬ì„±í•¨
        - `@JoinColumn` ì–´ë…¸í…Œì´ì…˜ê³¼ í•¨ê»˜ ì“°ìž„
            - ì´ ê²½ìš° ì™¸ëž˜í‚¤ë¡œ ì¸ì‹í•¨
- ðŸ“• [ê¸°ë³¸] Spring Data JPA ì˜ ê¸°ë³¸ ì œê³µ ë©”ì„œë“œ ì•Œì•„ë³´ê¸°
    - ðŸ’¡ `save()`, `saveAll()`, `findById()`, `findAll()` ë“± JpaRepository ì¸í„°íŽ˜ì´ìŠ¤ì— ì •ì˜ëœ ë©”ì„œë“œë¥¼ í™•ì¸í•´ë³´ë©´ ì¢‹ì•„ìš”
    - save, saveAll ì€ ì—”í‹°í‹°ë¥¼ ì €ìž¥í•˜ëŠ” ë©”ì„œë“œë¡œ save ëŠ” í•˜ë‚˜, saveAll ì€ list í˜•íƒœë¡œ ì €ìž¥í•¨
    - findById, findAll ì€ ë‹¨ê±´ ë˜ëŠ” ëª¨ë‘ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ findById ëŠ” ê¸°ë³¸í‚¤ë¡œ ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œ

## JPQL

- ðŸ“• [ê¸°ë³¸] JPQL ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ê¸°
    - Java Persistence Query Language
    - ê²€ìƒ‰ ì¿¼ë¦¬ì—ì„œ ìš©ì´í•˜ê²Œ ì‚¬ìš©ë¨
    - DB ì˜ì¡´ì ì´ì§€ ì•ŠìŒ
        - DB ì— ì˜ì¡´ì ì¸ ì¿¼ë¦¬ë¬¸ì„ ìž‘ì„±í•˜ë ¤ë©´ `@Query` ì–´ë…¸í…Œì´ì…˜ì—ì„œ native ì˜µì…˜ì„ true ë¡œ ì„¤ì •í•˜ë©´ ê°€ëŠ¥
        - ì´ë ‡ê²Œë˜ë©´ ì—”í‹°í‹°ì— ì ìš©í•œ ì–´ë…¸í…Œì´ì…˜ì„ ë¬´ì‹œí•˜ê³  value ì— ë‹´ê¸´ sql ë¬¸ì„ ê·¸ëŒ€ë¡œ ì‹¤í–‰í•¨ -> soft delete ë¬´ì‹œ

