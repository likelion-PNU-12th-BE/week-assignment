# 4주차 데이터베이스 이론 맛보기

## 데이터베이스

- 📕 [기본] 데이터베이스가 무엇인지 알아보기

**데이터베이스란?** 
데이터의 저장소이다.

**DBMS(Database Management System, 
데이터베이스 관리 시스템)이란?**
데이터베이스를 운영하고 관리하는 소프트웨어이다.
계층형, 망형, 관계형 DBMS 중 대부분의 DBMS가 테이블로 구성된 
관계형 DBMS(RDMBS)형태로 사용된다.

**SQL(Structured Query Language)이란?**
구조화된 질의언어라는 뜻으로 관계형 데이터베이스에서 사용되는 언어이다.

### 데이터베이스의 구성요소

- 개체(Entity)
  - 데이터로 표현하고자 하는 현실 세계의 대상체
- 속성(Attribute)
  - 열(column)
- 관계(Relationship)
  - 개체 간의 연관 관계
---
- 📕 [기본] 데이터베이스 자료형 알아보기

char 
: 고정길이 문자열이다.
뒤에 남은 자리가 있으면 공백으로 채운다.

**varchar**
: 가변길이 문자열이다.

int
: 4바이트까지 저장 가능하다.

**bigint**
: 큰 int
8바이트까지 저장 가능하다.

number
: 22바이트까지 가변길이 숫자 저장 가능하다.
38자리까지 표현할 수 있다.

---
- 📕 [기본] 관계형 데이터베이스가 무엇인지 알아보기

**관계형 데이터베이스(RDB)란?**
: 데이터가 하나 이상의 열과 행의 테이블에 저장되어 있어 사전 정의된 관계로 데이터를 구성하는 정보 모음이다.
테이블, 행, 열의 정보를 구조화하는 방식이다.

**장점**
: 직관적인 데이터 표현 방법을 제공하고 관련 데이터 포인트에
쉽게 액세스할 수 있다는 점이다.

- 유연성
- ACID 규정 준수
- 사용 편의성
- 공동 작업
- 내장된 보안 기능
- 정규화

---
- 📕 [기본] 비관계형 데이터베이스가 무엇인지 알아보기

**비관계형 데이터베이스란?**
: 테이블 형식 스키마를 사용하지 않는 데이터베이스이다.
: 비관계형 데이터베이스는 저장되는 데이터 형식의 특정 요구 사항에 맞게 최적화된 스토리지 모델을 사용한다.
: 예를 들어, 데이터는 단순 키/값 쌍, JSON 문서 또는 모서리와 꼭짓점으로 이루어진 그래프로 저장될 수 있다.

---
- 📕 [기본] 관계형 vs 비관계형 데이터베이스

**데이터모델**
- 관계형 데이터베이스는 `테이블 형식` 비관계형 데이터베이스는 `문서`, `key-value`, `그래프` 등
다양한 모델 사용한다.

**스키마**
- 관계형 데이터베이스는 `고정된` 스키마, 비관계형 데이터베이스는 `유연한` 스키마이다.

**확장성**
- 관계형 데이터베이스는 수평 확장이 어렵다.
- 비관계형 데이터베이스는 수평 확장이 용이하다.
---
## 관계형 데이터베이스(RDB)

- 📕 [기본] 엔티티(Entity)에 대해 알아보기

**엔티티(Entity)** 는 실체, 객체라고 번역하기도 한다. 

    의미적으로는 저장이 되기 위한 어떤 것이라고 할 수 있다.
    그 집합에 속하는 개체들의 특성을 설명할 수 있는 속성을 지닌다.
    인스턴스의 집합이라고 볼 수 있다.

    반드시 해당 업무에 필요하고 관리하고자 하는 정보여야 한다.
    유일한 식별자(key)에 의해 식별이 가능해야 한다.
    영속적으로 존재하는 인스턴스의 집합이어야 한다.
    - 인스턴스가 한 개인 엔티티는 집합이 아니므로 엔티티 성립이 안된다.
    반드시 속성이 있어야 한다.
    다른 엔티티와 최소 한 개 이상의 관계가 있어야 한다.

---
- 📕 [기본] 테이블(Table)에 대해 알아보기
    - 튜플(행: Row)가 무엇인지 알아보기
    - 어트리뷰트(열: Column)가 무엇인지 알아보기

**테이블이란?**
: 데이터베이스안에 실제 데이터가 저장되는 형태이다.
: 파일에 데이터를 저장할 때 어떤 구조로 저장할 지 결정한다.

**튜플(Tuple)이란?**
: 관계를 구성하는 각각의 행을 말하며 속성의 모임으로 구성된다.
: 튜플의 수를 카디널리티(Cardinality)라고 한다.

**속성(Attribute)이란?**
: 엔티티가 가지고 있는 특징이나 성질이다.
: 엔티티 정보를 갖는 최소 단위이다.
: 속성은 한 시점에 한 개의 값만을 가져야 한다.

---
- 📕 [기본] 기본키(PK)에 대해 알아보기
    - 단일 테이블만 고려하시면 돼요.
    - 외래키는 아직 학습하지 않으셔도 됩니다.

**키**에는 `유일성`과 `최소성`이라는 개념이 있다.

- **유일성**
: 하나의 키 값으로 튜플을 유일하게 식별할 수 있는 성질을 의미한다.

- **최소성**
: 키를 구성하는 속성들 중 꼭 필요한 최소한의 속성들로만 키를 구성하는 성질이다.

**기본키(PK:Primary Key)**
: 유일성과 최소성을 가지며 해당 레코드를 식별할 때 기준이 되는 반드시 필요한 키이다.

- 후보키 중 특별히 선정된 키이다.
- **값의 변동이 잦은 후보키는 기본키로 부적절하다.**
- **NULL 값을 가질 수 있는 속성이 포함된 후보키는 부적절하다.**
- 단일 속성 또는 복합 속성으로 구성 가능하다. 
- 후보키 중 단순한 키를 기본키로 선택한다.
- 하나의 테이블에는 반드시 하나의 기본키만 존재한다.
---
## 데이터베이스 명령어

- 📕 [기본] DDL 이 무엇인지 알아보기
    - `CREATE` 질의어 이해하기
    - `DROP` 질의어 이해하기

**_스키마_**
- 데이터베이스의 전체적인 구조 및 제약 조건의 명세를 기술한 것이다.
- 관계형 데이터베이스는 고정된 스키마이다.
- 비관계형 데이터베이스는 유연한 스키마이다.

**DDL(Data Definition Language)란?**
: 데이터 정의어이다.

- 데이터베이스 스키마를 컴퓨터가 이해할 수 있도록 기술하는데 사용된다.
- 데이터베이스를 정의하는 언어이며, 데이터를 생성, 수정, 삭제하는 등의 
데이터의 전체의 골격을 결정하는 역할을 하는 언어이다.
- 주요 명령어는 CREATE, DROP, ALTER(수정), RENAME, TRUNCATE(초기화) 등이 있다.
> **CREATE**

데이터베이스, 테이블을 생성하는 역할을 한다.

테이블, 뷰, 인덱스를 정의하거나 스키마, 함수 등을 정의한다.

테이블 생성시 테이블 생성과 함께 제약조건을 정의 가능하다.

> **DROP**

데이터베이스, 테이블을 삭제하는 역할을 한다.

테이블 삭제시 해당 테이블과 관계가 있었던 참조되는 제약조건을 먼저 삭제해야 한다.

---
- 📕 [기본] DML 이 무엇인지 알아보기
    - `SELECT` 질의어 이해하기
    - `INSERT` 질의어 이해하기
    - `UPDATE` 질의어 이해하기
    - `DELETE` 질의어 이해하기

**DML(Data MManipulation Language)란?**
: 데이터 조작어이다.

> **SELECT**

데이터를 조회하는 역할을 한다.

```select * from users;```

```select * from likeliondb.users;```

```select * from likeliondb.users where(id="go");```

> **INSERT**

데이터를 삽입하는 역할을 한다.

```insert into `likeliondb`.`users`(`id`, `name`) values("go", "minseok");```

> **UPDATE**

데이터를 수정하는 역할을 한다.

``` update `likeliondb`.`users`set `id` = "Go" where (`id` = "go"); ```

> **DELETE**

데이터를 삭제하는 역할을 한다.

``` delete from `likeliondb`.`users` where(`id` = "Go"); ```

---
- 📕 [기본] DCL 이 무엇인지 진~~짜 가볍게 알아보기

**DCL(Data Control Language)란?**
  : 데이터베이스에 접근하거나 객체에 권한을 주는 등의 역할을 하는 언어이다.


---
- 📕 [기본] `COMMIT`, `ROLLBACK` 이 무엇인지 진~~짜 가볍게 알아보기
> **COMMIT**

데이터베이스의 변경사항을 영구적으로 저장하는 명령어이다.

하나의 트랜잭션이 성공적으로 끝났고, 데이터베이스가 일관성있는 상태에 있을 때, 하나의 트랜잭션이 끝났다는 것을 알려주기 위해서 사용하는 연산이다.

수행했던 트랜잭션이 로그에 저장된다.

- 트랜잭션: 데이터베이스의 상태를 변화시키기 위해서 수행하는 작업의 단위이다.
    - SQL문을 통해서 데이터베이스에 접근하는 것을 의미한다.


> **ROLLBACK**

트랜잭션의 작업을 취소, 원래대로 복구한다.

하나의 트랜잭션 처리가 비정상적으로 종료되어 트랜잭션을 처음부터 다시 시작하거나, 부분적으로만 연산된 결과를 다시 취소시킨다.

후에 사용자가 트랜잭션 처리된 단위대로 rollback을 진행할 수도 있다.

---

### 명령어 실습

- 💻 [기본] `CREATE` 명령어로 `Users` 테이블 생성해보기
    - `id` , `VARCHAR(10)`, `기본키(PK)`
    - `name`, `VARCHAR(10)`, `NULL`값 허용 X
- 💻 [기본] `INSERT` 명령어로 `User` 엔티티 삽입해보기
- 💻 [기본] `SELECT` 명령어로 `User` 엔티티 조회하기
    - `WHERE` 절을 통해 `User` id 가 `minseokgo` 인 튜플 찾아보기

      (꼭 `minseokgo` 가 아니더라도 특정 id 를 가진 튜플이 있어야 해요.)

- 💻 [기본] `UPDATE` 명령어로 `User` 엔티티 수정하기
- 💻 [기본] `DELETE` 명령어로 `User` 엔티티 삭제하기
- 💻 [기본] `SELECT` 명령어로 `Users` 테이블 조회하기

